{
  "code": "export default class Besom extends Laya.Script3D {\r\n    constructor() {\r\n        super();\r\n        this.compoundShape = new Laya.CompoundColliderShape();\r\n    }\r\n    onEnable() {\r\n        this.self = this.owner;\r\n        this.self['Besom'] = this;\r\n        this.rig = this.self.getComponent(Laya.Rigidbody3D);\r\n        console.log(this.self);\r\n        let head = this.self.getChildAt(0);\r\n        let headCollider = head.getComponent(Laya.PhysicsCollider);\r\n        let headShape = headCollider.colliderShape.clone();\r\n        headCollider.destroy();\r\n        let stick = this.self.getChildAt(1);\r\n        let stickCollider = stick.getComponent(Laya.PhysicsCollider);\r\n        let stickShape = stickCollider.colliderShape.clone();\r\n        stickCollider.destroy();\r\n        this.compoundShape.addChildShape(headShape);\r\n        this.compoundShape.addChildShape(stickShape);\r\n        this.rig.colliderShape = this.compoundShape;\r\n        this.rigParameters();\r\n        this.transform = this.self.transform;\r\n        this.firstPosZ = this.transform.localPositionZ;\r\n        this.transform.localRotationEulerZ = 0;\r\n    }\r\n    rigParameters() {\r\n        this.rig.detectCollisions = true;\r\n        this.rig.friction = 100;\r\n        this.rig.restitution = 0;\r\n        this.rig.gravity = (new Laya.Vector3(0, -3, 0));\r\n        this.rig.mass = 10;\r\n    }\r\n    onUpdate() {\r\n        let rote = this.transform.localRotationEuler;\r\n        rote.x = 0;\r\n        rote.y = 0;\r\n        this.transform.localRotationEuler = rote;\r\n        this.transform.localPositionZ = this.firstPosZ;\r\n        let linearVelocityY = this.rig.linearVelocity.y;\r\n        if (linearVelocityY > 5) {\r\n            this.rig.linearVelocity = new Laya.Vector3(this.rig.linearVelocity.x, 5, this.rig.linearVelocity.z);\r\n        }\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": []
}
