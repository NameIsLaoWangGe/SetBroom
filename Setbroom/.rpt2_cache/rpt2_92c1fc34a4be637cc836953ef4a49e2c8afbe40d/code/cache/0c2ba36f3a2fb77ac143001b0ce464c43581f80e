{
  "code": "import UIMain from './UIMain';\r\nimport { lwg } from '../Lwg_Template/lwg';\r\nexport default class UILoding extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.mianSceneOk = false;\r\n    }\r\n    onEnable() {\r\n        this.self = this.owner;\r\n        this.Progress = this.self['Progress'];\r\n        this.Logo = this.self['Logo'];\r\n        this.Word = this.self['Word'];\r\n        this.Mask = this.self['Mask'];\r\n        this.MaskMoveSwitch = false;\r\n        this.adaptive();\r\n        this.openAni();\r\n    }\r\n    adaptive() {\r\n        this.Progress.y = Laya.stage.height * 0.7815;\r\n        this.Word.y = this.Progress.y - 57.5;\r\n        this.Logo.y = Laya.stage.height * 0.2787;\r\n    }\r\n    openAni() {\r\n        let delayed = 100;\r\n        let time = 250;\r\n        let logoY = this.Logo.y;\r\n        lwg.Animation.move_Deform_Y(this.Logo, 0, 0, logoY, 0.2, -0.15, time, delayed * 1, f => { });\r\n        let preY = this.Progress.y;\r\n        lwg.Animation.move_Deform_Y(this.Progress, preY, 0, preY, 0.1, -0.15, time, delayed * 2, f => { });\r\n        let wY = this.Word.y;\r\n        lwg.Animation.move_Deform_Y(this.Word, wY, 0, wY, 0.1, -0.15, time, delayed * 3, f => {\r\n            this.openAniFunc();\r\n        });\r\n    }\r\n    openAniFunc() {\r\n        this.dataLoading();\r\n        this.MaskMoveSwitch = true;\r\n    }\r\n    dataLoading() {\r\n        Laya.loader.load(\"Data/levelsData.json\", Laya.Handler.create(this, this.levelsOnLoaded), null, Laya.Loader.JSON);\r\n    }\r\n    levelsOnLoaded() {\r\n        lwg.Global._levelsData = Laya.loader.getRes(\"Data/levelsData.json\")[\"RECORDS\"];\r\n        Laya.MouseManager.multiTouchEnabled = false;\r\n        this.lodeUserInfo();\r\n        this.lodeMianScene3D();\r\n    }\r\n    lodeMianScene3D() {\r\n        Laya.Scene3D.load(\"testScene/LayaScene_GameMain/Conventional/GameMain.ls\", Laya.Handler.create(this, this.mianSceneComplete));\r\n    }\r\n    mianSceneComplete(scene) {\r\n        Laya.stage.addChildAt(scene, 0);\r\n        scene.addComponent(UIMain);\r\n        lwg.Global.UIMain = scene;\r\n        this.Mask.x = -2;\r\n        lwg.Global._openInterface('UIStart', this.self, f => {\r\n        });\r\n        this.mianSceneOk = true;\r\n    }\r\n    lodeUserInfo() {\r\n        let data = lwg.LocalStorage.getData();\r\n        if (data) {\r\n            lwg.Global._gameLevel = data._gameLevel;\r\n            lwg.Global._goldNum = data._goldNum;\r\n            lwg.Global._buyNum = data._buyNum;\r\n            lwg.Global._currentPifu = data._currentPifu;\r\n            lwg.Global._havePifu = data._havePifu;\r\n            lwg.Global._watchAdsNum = data._watchAdsNum;\r\n            lwg.Global._gameOverAdvModel = data._gameOverAdvModel;\r\n            lwg.Global._whetherAdv = data._whetherAdv;\r\n        }\r\n    }\r\n    onUpdate() {\r\n        if (this.MaskMoveSwitch) {\r\n            if (this.Mask.x < -80) {\r\n                this.Mask.x += 5;\r\n            }\r\n        }\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/SetBroom/Setbroom/src/script/Game/UIMain.ts",
    "D:/Game/project/SetBroom/Setbroom/src/script/Lwg_Template/lwg.ts"
  ]
}
